{"version":3,"file":"Controls-080c51e1.js","sources":["../../../../components/Controls.vue"],"sourcesContent":["<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      timer: null,\n      interval: 10, // set the interval in milliseconds\n    }\n  },\n\n  methods: {\n    handleClick(direction: string) {\n      const stepSize = 0.1;\n      const entity = document.querySelector('#mario');\n      const currentPosition = entity.getAttribute('position');\n      const currentRotation = entity.getAttribute('rotation');\n\n      switch (direction) {\n        case 'down':\n          entity.setAttribute('position', `${currentPosition.x - stepSize * Math.sin(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z - stepSize * Math.cos(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'up':\n          entity.setAttribute('position', `${currentPosition.x + stepSize * Math.sin(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z + stepSize * Math.cos(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'right':\n          entity.setAttribute('position', `${currentPosition.x - stepSize * Math.cos(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z + stepSize * Math.sin(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'left':\n          entity.setAttribute('position', `${currentPosition.x + stepSize * Math.cos(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z - stepSize * Math.sin(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        default:\n          break;\n      }\n    },\n\n    startTimer(direction: string) {\n      this.timer = setInterval(() => {\n        this.handleClick(direction);\n      }, this.interval);\n    },\n\n    stopTimer() {\n      clearInterval(this.timer);\n    }\n  },\n\n  mounted() {\n    window.addEventListener('keydown', event => {\n      if (event.code.startsWith('Arrow')) {\n        const direction = event.code.substring(5).toLowerCase();\n        \n        this.startTimer(direction);\n      }\n    });\n\n    window.addEventListener('keyup', event => {\n      if (event.code.startsWith('Arrow')) {\n        this.stopTimer();\n      }\n    });\n  }\n};\n</script>\n\n<template>\n  <div class=\"controls\">\n    <button \n      @mousedown=\"startTimer('up')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('up')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"up\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('left')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('left')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"left\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('down')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('down')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"down\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('right')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('right')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"right\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.controls{\n  display: grid;\n  gap: 10px;\n  grid-template-columns: 45px 45px 45px;\n  grid-template-rows: 45px 45px;\n\n  // Disable long-touch/taphold selection\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -khtml-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n  -webkit-tap-highlight-color:rgba(0,0,0,0);\n\n\n  .up, .left, .down, .right{\n    width: 45px;\n    height: 45px;\n    border: 1px solid var(--foreground);\n    border-radius: 7px;\n\n    // Flex\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    // Background\n    background: rgba(255, 255, 255, 0.5);\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(18px);\n    -webkit-backdrop-filter: blur(18px);\n\n    .arrow{\n      width: 15px;\n      height: 15px;\n    }\n  }\n\n  .up{\n    grid-area: 1 / 2;\n  }\n\n  .left{\n    grid-area: 2 / 1;\n\n    .arrow{\n      rotate: 270deg;\n    }\n  }\n\n  .down{\n    grid-area: 2 / 2;\n\n    .arrow{\n      rotate: 180deg;\n    }\n  }\n\n  .right{\n    grid-area: 2 / 3;\n\n    .arrow{\n      rotate: 90deg;\n    }\n  }\n}\n</style>"],"names":["_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAe,YAAA;AAAA,EACb,OAAO;AACE,WAAA;AAAA,MACL,OAAO;AAAA,MACP,UAAU;AAAA;AAAA,IAAA;AAAA,EAEd;AAAA,EAEA,SAAS;AAAA,IACP,YAAY,WAAmB;AAC7B,YAAM,WAAW;AACX,YAAA,SAAS,SAAS,cAAc,QAAQ;AACxC,YAAA,kBAAkB,OAAO,aAAa,UAAU;AAChD,YAAA,kBAAkB,OAAO,aAAa,UAAU;AAEtD,cAAQ,WAAW;AAAA,QACjB,KAAK;AACI,iBAAA,aAAa,YAAY,GAAG,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,KAAK,gBAAgB,KAAK,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,GAAG;AAClN;AAAA,QACF,KAAK;AACI,iBAAA,aAAa,YAAY,GAAG,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,KAAK,gBAAgB,KAAK,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,GAAG;AAClN;AAAA,QACF,KAAK;AACI,iBAAA,aAAa,YAAY,GAAG,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,KAAK,gBAAgB,KAAK,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,GAAG;AAClN;AAAA,QACF,KAAK;AACI,iBAAA,aAAa,YAAY,GAAG,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,KAAK,gBAAgB,KAAK,gBAAgB,IAAI,WAAW,KAAK,IAAI,gBAAgB,IAAI,MAAM,KAAK,EAAE,GAAG;AAClN;AAAA,MAGJ;AAAA,IACF;AAAA,IAEA,WAAW,WAAmB;AACvB,WAAA,QAAQ,YAAY,MAAM;AAC7B,aAAK,YAAY,SAAS;AAAA,MAAA,GACzB,KAAK,QAAQ;AAAA,IAClB;AAAA,IAEA,YAAY;AACV,oBAAc,KAAK,KAAK;AAAA,IAC1B;AAAA,EACF;AAAA,EAEA,UAAU;AACD,WAAA,iBAAiB,WAAW,CAAS,UAAA;AAC1C,UAAI,MAAM,KAAK,WAAW,OAAO,GAAG;AAClC,cAAM,YAAY,MAAM,KAAK,UAAU,CAAC,EAAE;AAE1C,aAAK,WAAW,SAAS;AAAA,MAC3B;AAAA,IAAA,CACD;AAEM,WAAA,iBAAiB,SAAS,CAAS,UAAA;AACxC,UAAI,MAAM,KAAK,WAAW,OAAO,GAAG;AAClC,aAAK,UAAU;AAAA,MACjB;AAAA,IAAA,CACD;AAAA,EACH;AACF;;;;;AAuBa,QAAAA,mBAAA,kBAAA,EAAA,OAAM,WAAO,MAAA,OAAA,CAAA;;AAUb,QAAAA,mBAAA,kBAAA,EAAA,OAAM,WAAO,MAAA,OAAA,CAAA;;AAUb,QAAAA,mBAAA,kBAAA,EAAA,OAAM,WAAO,MAAA,OAAA,CAAA;;;;;;;;;;;;"}