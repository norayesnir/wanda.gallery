{"version":3,"file":"ControlsPopup-8b0a8025.js","sources":["../../../../components/Arrow.vue","../../../../components/Controls.vue","../../../../node_modules/@nuxtjs/device/dist/runtime/composables/useDevice.mjs","../../../../store/controlsStore.ts","../../../../components/ControlsPopup.vue"],"sourcesContent":["<template>\n  <svg id=\"uuid-4b29ea88-df0e-43d3-aa9d-50ffb078ea7d\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.52 11.34\"><g id=\"uuid-adae3106-a4bb-4cf2-8f28-245c340616f7\"><path d=\"m6.26,1c.15,0,.53.04.76.44l4.38,7.59c.23.39.08.74,0,.87s-.3.44-.76.44H1.87c-.46,0-.68-.31-.76-.44s-.23-.48,0-.87L5.49,1.44c.23-.39.6-.44.76-.44m0-1c-.63,0-1.26.31-1.62.94L.25,8.53c-.72,1.25.18,2.81,1.62,2.81h8.77c1.44,0,2.34-1.56,1.62-2.81L7.88.94c-.36-.62-.99-.94-1.62-.94h-.01Z\" style=\"fill:#fff;\"/></g></svg>\n</template>","<script lang=\"ts\">\nexport default {\n  data() {\n    return {\n      timer: null,\n      interval: 10, // set the interval in milliseconds\n    }\n  },\n\n  methods: {\n    handleClick(direction: string) {\n      const stepSize = 0.1;\n      const entity = document.querySelector('#mario');\n      const currentPosition = entity.getAttribute('position');\n      const currentRotation = entity.getAttribute('rotation');\n\n      switch (direction) {\n        case 'down':\n          entity.setAttribute('position', `${currentPosition.x - stepSize * Math.sin(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z - stepSize * Math.cos(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'up':\n          entity.setAttribute('position', `${currentPosition.x + stepSize * Math.sin(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z + stepSize * Math.cos(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'right':\n          entity.setAttribute('position', `${currentPosition.x - stepSize * Math.cos(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z + stepSize * Math.sin(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        case 'left':\n          entity.setAttribute('position', `${currentPosition.x + stepSize * Math.cos(currentRotation.y / 180 * Math.PI)} ${currentPosition.y} ${currentPosition.z - stepSize * Math.sin(currentRotation.y / 180 * Math.PI)}`);\n          break;\n        default:\n          break;\n      }\n    },\n\n    startTimer(direction: string) {\n      this.timer = setInterval(() => {\n        this.handleClick(direction);\n      }, this.interval);\n    },\n\n    stopTimer() {\n      clearInterval(this.timer);\n    }\n  },\n\n  mounted() {\n    window.addEventListener('keydown', event => {\n      if (event.code.startsWith('Arrow')) {\n        const direction = event.code.substring(5).toLowerCase();\n        \n        this.startTimer(direction);\n      }\n    });\n\n    window.addEventListener('keyup', event => {\n      if (event.code.startsWith('Arrow')) {\n        this.stopTimer();\n      }\n    });\n  }\n};\n</script>\n\n<template>\n  <div class=\"controls\">\n    <button \n      @mousedown=\"startTimer('up')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('up')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"up\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('left')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('left')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"left\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('down')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('down')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"down\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n    <button \n      @mousedown=\"startTimer('right')\" \n      @mouseup=\"stopTimer()\" \n\n      @touchstart.prevent=\"startTimer('right')\" \n      @touchend.prevent=\"stopTimer()\"\n      class=\"right\"\n    >\n      <Arrow class=\"arrow\" />\n    </button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.controls{\n  display: grid;\n  gap: 10px;\n  grid-template-columns: 45px 45px 45px;\n  grid-template-rows: 45px 45px;\n\n  // Disable long-touch/taphold selection\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -khtml-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n  -webkit-tap-highlight-color:rgba(0,0,0,0);\n\n\n  .up, .left, .down, .right{\n    width: 45px;\n    height: 45px;\n    border: 1px solid var(--foreground);\n    border-radius: 7px;\n\n    // Flex\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    // Background\n    background: rgba(0, 0, 0, 0.5);\n    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(18px);\n    -webkit-backdrop-filter: blur(18px);\n\n    .arrow{\n      width: 15px;\n      height: 15px;\n    }\n  }\n\n  .up{\n    grid-area: 1 / 2;\n  }\n\n  .left{\n    grid-area: 2 / 1;\n\n    .arrow{\n      rotate: 270deg;\n    }\n  }\n\n  .down{\n    grid-area: 2 / 2;\n\n    .arrow{\n      rotate: 180deg;\n    }\n  }\n\n  .right{\n    grid-area: 2 / 3;\n\n    .arrow{\n      rotate: 90deg;\n    }\n  }\n}\n</style>","import { useNuxtApp } from \"#app\";\nexport default function() {\n  return useNuxtApp().$device;\n}\n","import { defineStore } from \"pinia\";\nexport const useControlsStore = defineStore(\"main\", {\n  state: ()=> ({\n    controlsPopupVisible: false,\n  })\n})","<template>\n  <div \n    v-if=\"isDesktop\"\n    :class=\"{ closed : controls.controlsPopupVisible}\"\n    class=\"controls-popup\"\n  >\n    <section \n      class=\"card-content\"\n    >\n      <div class=\"card-header\">\n        <div class=\"title\">\n          <Icon \n            name=\"carbon:chart-3d\" \n            size=\"32\"\n          />\n          <h3>Controls</h3>\n        </div>\n        <Icon \n          @click=\"close\"\n          class=\"close\"\n          name=\"ic:outline-close\"\n          size=\"36\"\n        />\n      </div>\n      <div class=\"card-information\">\n        <div class=\"card-paragraph\">\n          <p>Move around with the WASD-keys or the arrow-keys of your keyboard. Look around by draging your mouse over the screen.</p>\n        </div>\n          <Controls />\n      </div>\n    </section>\n  </div>\n  \n  <div \n    v-else\n    class=\"mobile-controls\"\n  >\n      <Controls />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n  import { storeToRefs } from \"pinia\"\n  import { useNavigationMenuStore } from \"~/store/navigationMenuStore\"\n  import { useControlsStore } from \"~/store/controlsStore\";\n\n  const menu = useNavigationMenuStore();\n  const controls = useControlsStore();\n\n  const { hamburgerMenuToggled } = storeToRefs(menu);\n  const { controlsPopupVisible } = storeToRefs(controls);\n\n\n  const { isDesktop } = useDevice();\n\n  function close() {\n    controls.controlsPopupVisible = (controls.controlsPopupVisible == true ? false : true);\n  }\n</script>\n\n<style scoped lang=\"scss\">\n.controls-popup{\n  z-index: 100;\n  position: fixed;\n  left: 16px;\n  bottom: 16px;;\n\n  // UI\n  width: calc(100% - 32px);\n  max-width: 500px;\n  \n  padding: 16px;\n  border: 1px solid var(--foreground);\n  border-radius: 15px;\n\n  display: flex;\n\n  // Background\n  background: rgba(0, 0, 0, 0.5);\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(18px);\n  -webkit-backdrop-filter: blur(18px);\n\n  .card-content{\n    width: 100%;\n\n    .card-header{\n      display: flex;\n      justify-content: space-between;\n\n      .title{\n        display: flex;\n        gap: 10px;\n      }\n\n      .close{\n        padding: 4px;\n        border-radius: 50%;\n\n        &:hover{\n          background-color: #363636;\n        }\n      }\n    }\n\n    .card-information{\n      display: flex;\n      justify-content: space-between;\n      max-width: calc(500px - 32px);\n\n      .card-paragraph{\n        display: flex;\n        align-items: center;\n        flex: 1;\n\n        p{\n          margin: 0;\n        }\n      }\n\n      .card-image{\n        max-width: 150px;\n        display: flex;\n        align-items: center;\n        flex: 1;\n      }\n    }\n  }\n}\n\n.mobile-controls{\n  z-index: 100;\n  position: fixed;\n  width: calc(100% - 42px);\n  left: 16px;\n  bottom: 16px;\n\n  display: flex;\n  justify-content: center;\n}\n\n.closed{\n  transform: translateX(-532px);\n  transition: .2s ease;\n}\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent"],"mappings":"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","x_google_ignoreList":[2]}